{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":42,"index":202}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('authToken');\n        if (storedToken) {\n          setToken(storedToken);\n          const response = await _servicesApi.authAPI.getMe();\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.log('Auto login failed:', error);\n        await AsyncStorage.default.removeItem('authToken');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await _servicesApi.authAPI.login({\n          email,\n          password\n        });\n        const {\n          token: authToken,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('authToken', authToken);\n        setToken(authToken);\n        setUser(userData);\n        return {\n          success: true\n        };\n      } catch (error) {\n        const message = error.response?.data?.detail || 'Login failed';\n        return {\n          success: false,\n          error: message\n        };\n      }\n    };\n    const register = async data => {\n      try {\n        const response = await _servicesApi.authAPI.register(Object.assign({}, data, {\n          phone: data.phone || '0000000000' // Phone is required by API\n        }));\n        const {\n          token: authToken,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('authToken', authToken);\n        setToken(authToken);\n        setUser(userData);\n        return {\n          success: true\n        };\n      } catch (error) {\n        const message = error.response?.data?.detail || 'Registration failed';\n        return {\n          success: false,\n          error: message\n        };\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('authToken');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        isLoading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"mX4/AXRUN66G8j/NKXHYWKblzjI=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":139,"map":[[15,2,25,0,"Object"],[15,8,25,0],[15,9,25,0,"defineProperty"],[15,23,25,0],[15,24,25,0,"exports"],[15,31,25,0],[16,4,25,0,"enumerable"],[16,14,25,0],[17,4,25,0,"get"],[17,7,25,0],[17,18,25,0,"get"],[17,19,25,0],[18,6,25,0],[18,13,25,0,"AuthProvider"],[18,25,25,0],[19,4,25,0],[20,2,25,0],[21,2,98,0,"Object"],[21,8,98,0],[21,9,98,0,"defineProperty"],[21,23,98,0],[21,24,98,0,"exports"],[21,31,98,0],[22,4,98,0,"enumerable"],[22,14,98,0],[23,4,98,0,"get"],[23,7,98,0],[23,18,98,0,"get"],[23,19,98,0],[24,6,98,0],[24,13,98,0,"useAuth"],[24,20,98,0],[25,4,98,0],[26,2,98,0],[27,2,1,0],[27,6,1,0,"_react"],[27,12,1,0],[27,15,1,0,"require"],[27,22,1,0],[27,23,1,0,"_dependencyMap"],[27,37,1,0],[28,2,2,0],[28,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,2,0],[28,45,2,0,"require"],[28,52,2,0],[28,53,2,0,"_dependencyMap"],[28,67,2,0],[29,2,2,0],[29,6,2,0,"AsyncStorage"],[29,18,2,0],[29,21,2,0,"_interopDefault"],[29,36,2,0],[29,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,2,0],[30,2,3,0],[30,6,3,0,"_servicesApi"],[30,18,3,0],[30,21,3,0,"require"],[30,28,3,0],[30,29,3,0,"_dependencyMap"],[30,43,3,0],[31,2,3,42],[31,6,3,42,"_reactJsxDevRuntime"],[31,25,3,42],[31,28,3,42,"require"],[31,35,3,42],[31,36,3,42,"_dependencyMap"],[31,50,3,42],[32,2,23,0],[32,8,23,6,"AuthContext"],[32,19,23,17],[32,35,23,20],[32,39,23,20,"createContext"],[32,45,23,33],[32,46,23,33,"createContext"],[32,59,23,33],[32,61,23,63,"undefined"],[32,70,23,72],[32,71,23,73],[33,2,25,7],[33,8,25,13,"AuthProvider"],[33,20,25,25],[33,23,25,28,"AuthProvider"],[33,24,25,29],[34,4,25,31,"children"],[35,2,25,65],[35,3,25,66],[35,8,25,71],[36,4,25,71,"_s"],[36,6,25,71],[37,4,26,2],[37,10,26,8],[37,11,26,9,"user"],[37,15,26,13],[37,17,26,15,"setUser"],[37,24,26,22],[37,25,26,23],[37,28,26,26],[37,32,26,26,"useState"],[37,38,26,34],[37,39,26,34,"useState"],[37,47,26,34],[37,49,26,48],[37,53,26,52],[37,54,26,53],[38,4,27,2],[38,10,27,8],[38,11,27,9,"token"],[38,16,27,14],[38,18,27,16,"setToken"],[38,26,27,24],[38,27,27,25],[38,30,27,28],[38,34,27,28,"useState"],[38,40,27,36],[38,41,27,36,"useState"],[38,49,27,36],[38,51,27,52],[38,55,27,56],[38,56,27,57],[39,4,28,2],[39,10,28,8],[39,11,28,9,"isLoading"],[39,20,28,18],[39,22,28,20,"setIsLoading"],[39,34,28,32],[39,35,28,33],[39,38,28,36],[39,42,28,36,"useState"],[39,48,28,44],[39,49,28,44,"useState"],[39,57,28,44],[39,59,28,45],[39,63,28,49],[39,64,28,50],[40,4,30,2],[40,8,30,2,"useEffect"],[40,14,30,11],[40,15,30,11,"useEffect"],[40,24,30,11],[40,26,30,12],[40,32,30,18],[41,6,31,4,"loadStoredAuth"],[41,20,31,18],[41,21,31,19],[41,22,31,20],[42,4,32,2],[42,5,32,3],[42,7,32,5],[42,9,32,7],[42,10,32,8],[43,4,34,2],[43,10,34,8,"loadStoredAuth"],[43,24,34,22],[43,27,34,25],[43,33,34,25,"loadStoredAuth"],[43,34,34,25],[43,39,34,37],[44,6,35,4],[44,10,35,8],[45,8,36,6],[45,14,36,12,"storedToken"],[45,25,36,23],[45,28,36,26],[45,34,36,32,"AsyncStorage"],[45,46,36,44],[45,47,36,44,"default"],[45,54,36,44],[45,55,36,45,"getItem"],[45,62,36,52],[45,63,36,53],[45,74,36,64],[45,75,36,65],[46,8,37,6],[46,12,37,10,"storedToken"],[46,23,37,21],[46,25,37,23],[47,10,38,8,"setToken"],[47,18,38,16],[47,19,38,17,"storedToken"],[47,30,38,28],[47,31,38,29],[48,10,39,8],[48,16,39,14,"response"],[48,24,39,22],[48,27,39,25],[48,33,39,31,"authAPI"],[48,45,39,38],[48,46,39,38,"authAPI"],[48,53,39,38],[48,54,39,39,"getMe"],[48,59,39,44],[48,60,39,45],[48,61,39,46],[49,10,40,8,"setUser"],[49,17,40,15],[49,18,40,16,"response"],[49,26,40,24],[49,27,40,25,"data"],[49,31,40,29],[49,32,40,30],[50,8,41,6],[51,6,42,4],[51,7,42,5],[51,8,42,6],[51,15,42,13,"error"],[51,20,42,18],[51,22,42,20],[52,8,43,6,"console"],[52,15,43,13],[52,16,43,14,"log"],[52,19,43,17],[52,20,43,18],[52,40,43,38],[52,42,43,40,"error"],[52,47,43,45],[52,48,43,46],[53,8,44,6],[53,14,44,12,"AsyncStorage"],[53,26,44,24],[53,27,44,24,"default"],[53,34,44,24],[53,35,44,25,"removeItem"],[53,45,44,35],[53,46,44,36],[53,57,44,47],[53,58,44,48],[54,6,45,4],[54,7,45,5],[54,16,45,14],[55,8,46,6,"setIsLoading"],[55,20,46,18],[55,21,46,19],[55,26,46,24],[55,27,46,25],[56,6,47,4],[57,4,48,2],[57,5,48,3],[58,4,50,2],[58,10,50,8,"login"],[58,15,50,13],[58,18,50,16],[58,24,50,16,"login"],[58,25,50,23,"email"],[58,30,50,36],[58,32,50,38,"password"],[58,40,50,54],[58,45,50,59],[59,6,51,4],[59,10,51,8],[60,8,52,6],[60,14,52,12,"response"],[60,22,52,20],[60,25,52,23],[60,31,52,29,"authAPI"],[60,43,52,36],[60,44,52,36,"authAPI"],[60,51,52,36],[60,52,52,37,"login"],[60,57,52,42],[60,58,52,43],[61,10,52,45,"email"],[61,15,52,50],[62,10,52,52,"password"],[63,8,52,61],[63,9,52,62],[63,10,52,63],[64,8,53,6],[64,14,53,12],[65,10,53,14,"token"],[65,15,53,19],[65,17,53,21,"authToken"],[65,26,53,30],[66,10,53,32,"user"],[66,14,53,36],[66,16,53,38,"userData"],[67,8,53,47],[67,9,53,48],[67,12,53,51,"response"],[67,20,53,59],[67,21,53,60,"data"],[67,25,53,64],[68,8,55,6],[68,14,55,12,"AsyncStorage"],[68,26,55,24],[68,27,55,24,"default"],[68,34,55,24],[68,35,55,25,"setItem"],[68,42,55,32],[68,43,55,33],[68,54,55,44],[68,56,55,46,"authToken"],[68,65,55,55],[68,66,55,56],[69,8,56,6,"setToken"],[69,16,56,14],[69,17,56,15,"authToken"],[69,26,56,24],[69,27,56,25],[70,8,57,6,"setUser"],[70,15,57,13],[70,16,57,14,"userData"],[70,24,57,22],[70,25,57,23],[71,8,59,6],[71,15,59,13],[72,10,59,15,"success"],[72,17,59,22],[72,19,59,24],[73,8,59,29],[73,9,59,30],[74,6,60,4],[74,7,60,5],[74,8,60,6],[74,15,60,13,"error"],[74,20,60,23],[74,22,60,25],[75,8,61,6],[75,14,61,12,"message"],[75,21,61,19],[75,24,61,22,"error"],[75,29,61,27],[75,30,61,28,"response"],[75,38,61,36],[75,40,61,38,"data"],[75,44,61,42],[75,46,61,44,"detail"],[75,52,61,50],[75,56,61,54],[75,70,61,68],[76,8,62,6],[76,15,62,13],[77,10,62,15,"success"],[77,17,62,22],[77,19,62,24],[77,24,62,29],[78,10,62,31,"error"],[78,15,62,36],[78,17,62,38,"message"],[79,8,62,46],[79,9,62,47],[80,6,63,4],[81,4,64,2],[81,5,64,3],[82,4,66,2],[82,10,66,8,"register"],[82,18,66,16],[82,21,66,19],[82,27,66,26,"data"],[82,31,66,130],[82,35,66,135],[83,6,67,4],[83,10,67,8],[84,8,68,6],[84,14,68,12,"response"],[84,22,68,20],[84,25,68,23],[84,31,68,29,"authAPI"],[84,43,68,36],[84,44,68,36,"authAPI"],[84,51,68,36],[84,52,68,37,"register"],[84,60,68,45],[84,61,68,45,"Object"],[84,67,68,45],[84,68,68,45,"assign"],[84,74,68,45],[84,79,69,11,"data"],[84,83,69,15],[85,10,70,8,"phone"],[85,15,70,13],[85,17,70,15,"data"],[85,21,70,19],[85,22,70,20,"phone"],[85,27,70,25],[85,31,70,29],[85,43,70,41],[85,44,70,43],[86,8,70,43],[86,10,71,7],[86,11,71,8],[87,8,72,6],[87,14,72,12],[88,10,72,14,"token"],[88,15,72,19],[88,17,72,21,"authToken"],[88,26,72,30],[89,10,72,32,"user"],[89,14,72,36],[89,16,72,38,"userData"],[90,8,72,47],[90,9,72,48],[90,12,72,51,"response"],[90,20,72,59],[90,21,72,60,"data"],[90,25,72,64],[91,8,74,6],[91,14,74,12,"AsyncStorage"],[91,26,74,24],[91,27,74,24,"default"],[91,34,74,24],[91,35,74,25,"setItem"],[91,42,74,32],[91,43,74,33],[91,54,74,44],[91,56,74,46,"authToken"],[91,65,74,55],[91,66,74,56],[92,8,75,6,"setToken"],[92,16,75,14],[92,17,75,15,"authToken"],[92,26,75,24],[92,27,75,25],[93,8,76,6,"setUser"],[93,15,76,13],[93,16,76,14,"userData"],[93,24,76,22],[93,25,76,23],[94,8,78,6],[94,15,78,13],[95,10,78,15,"success"],[95,17,78,22],[95,19,78,24],[96,8,78,29],[96,9,78,30],[97,6,79,4],[97,7,79,5],[97,8,79,6],[97,15,79,13,"error"],[97,20,79,23],[97,22,79,25],[98,8,80,6],[98,14,80,12,"message"],[98,21,80,19],[98,24,80,22,"error"],[98,29,80,27],[98,30,80,28,"response"],[98,38,80,36],[98,40,80,38,"data"],[98,44,80,42],[98,46,80,44,"detail"],[98,52,80,50],[98,56,80,54],[98,77,80,75],[99,8,81,6],[99,15,81,13],[100,10,81,15,"success"],[100,17,81,22],[100,19,81,24],[100,24,81,29],[101,10,81,31,"error"],[101,15,81,36],[101,17,81,38,"message"],[102,8,81,46],[102,9,81,47],[103,6,82,4],[104,4,83,2],[104,5,83,3],[105,4,85,2],[105,10,85,8,"logout"],[105,16,85,14],[105,19,85,17],[105,25,85,17,"logout"],[105,26,85,17],[105,31,85,29],[106,6,86,4],[106,12,86,10,"AsyncStorage"],[106,24,86,22],[106,25,86,22,"default"],[106,32,86,22],[106,33,86,23,"removeItem"],[106,43,86,33],[106,44,86,34],[106,55,86,45],[106,56,86,46],[107,6,87,4,"setToken"],[107,14,87,12],[107,15,87,13],[107,19,87,17],[107,20,87,18],[108,6,88,4,"setUser"],[108,13,88,11],[108,14,88,12],[108,18,88,16],[108,19,88,17],[109,4,89,2],[109,5,89,3],[110,4,91,2],[110,24,92,4],[110,28,92,4,"_reactJsxDevRuntime"],[110,47,92,4],[110,48,92,4,"jsxDEV"],[110,54,92,4],[110,56,92,5,"AuthContext"],[110,67,92,16],[110,68,92,17,"Provider"],[110,76,92,25],[111,6,92,26,"value"],[111,11,92,31],[111,13,92,33],[112,8,92,35,"user"],[112,12,92,39],[113,8,92,41,"token"],[113,13,92,46],[114,8,92,48,"isLoading"],[114,17,92,57],[115,8,92,59,"login"],[115,13,92,64],[116,8,92,66,"register"],[116,16,92,74],[117,8,92,76,"logout"],[118,6,92,83],[118,7,92,85],[119,6,92,85,"children"],[119,14,92,85],[119,16,93,7,"children"],[120,4,93,15],[121,6,93,15,"fileName"],[121,14,93,15],[121,16,93,15,"_jsxFileName"],[121,28,93,15],[122,6,93,15,"lineNumber"],[122,16,93,15],[123,6,93,15,"columnNumber"],[123,18,93,15],[124,4,93,15],[124,11,94,26],[124,12,94,27],[125,2,96,0],[125,3,96,1],[126,2,96,2,"_s"],[126,4,96,2],[126,5,25,13,"AuthProvider"],[126,17,25,25],[127,2,25,25,"_c"],[127,4,25,25],[127,7,25,13,"AuthProvider"],[127,19,25,25],[128,2,98,7],[128,8,98,13,"useAuth"],[128,15,98,20],[128,18,98,23,"useAuth"],[128,19,98,23],[128,24,98,29],[129,4,98,29,"_s2"],[129,7,98,29],[130,4,99,2],[130,10,99,8,"context"],[130,17,99,15],[130,20,99,18],[130,24,99,18,"useContext"],[130,30,99,28],[130,31,99,28,"useContext"],[130,41,99,28],[130,43,99,29,"AuthContext"],[130,54,99,40],[130,55,99,41],[131,4,100,2],[131,8,100,6,"context"],[131,15,100,13],[131,20,100,18,"undefined"],[131,29,100,27],[131,31,100,29],[132,6,101,4],[132,12,101,10],[132,16,101,14,"Error"],[132,21,101,19],[132,22,101,20],[132,67,101,65],[132,68,101,66],[133,4,102,2],[134,4,103,2],[134,11,103,9,"context"],[134,18,103,16],[135,2,104,0],[135,3,104,1],[136,2,104,2,"_s2"],[136,5,104,2],[136,6,98,13,"useAuth"],[136,13,98,20],[137,2,98,20],[137,6,98,20,"_c"],[137,8,98,20],[138,2,98,20,"$RefreshReg$"],[138,14,98,20],[138,15,98,20,"_c"],[138,17,98,20],[139,0,98,20],[139,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;4BCwB;YCK;GDE;yBEE;GFc;gBGE;GHc;mBIE;GJiB;iBKE;GLI;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}