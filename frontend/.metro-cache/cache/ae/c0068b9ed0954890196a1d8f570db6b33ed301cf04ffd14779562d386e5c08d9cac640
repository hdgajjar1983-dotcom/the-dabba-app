{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":42,"index":202}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('authToken');\n        if (storedToken) {\n          setToken(storedToken);\n          const response = await _servicesApi.authAPI.getMe();\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.log('Auto login failed:', error);\n        await AsyncStorage.default.removeItem('authToken');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await _servicesApi.authAPI.login({\n          email,\n          password\n        });\n        const {\n          token: authToken,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('authToken', authToken);\n        setToken(authToken);\n        setUser(userData);\n        return {\n          success: true\n        };\n      } catch (error) {\n        const message = error.response?.data?.detail || 'Login failed';\n        return {\n          success: false,\n          error: message\n        };\n      }\n    };\n    const register = async data => {\n      try {\n        const response = await _servicesApi.authAPI.register({\n          ...data,\n          phone: data.phone || '0000000000' // Phone is required by API\n        });\n        const {\n          token: authToken,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('authToken', authToken);\n        setToken(authToken);\n        setUser(userData);\n        return {\n          success: true\n        };\n      } catch (error) {\n        const message = error.response?.data?.detail || 'Registration failed';\n        return {\n          success: false,\n          error: message\n        };\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('authToken');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        isLoading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":131,"map":[[13,2,25,0,"Object"],[13,8,25,0],[13,9,25,0,"defineProperty"],[13,23,25,0],[13,24,25,0,"exports"],[13,31,25,0],[14,4,25,0,"enumerable"],[14,14,25,0],[15,4,25,0,"get"],[15,7,25,0],[15,18,25,0,"get"],[15,19,25,0],[16,6,25,0],[16,13,25,0,"AuthProvider"],[16,25,25,0],[17,4,25,0],[18,2,25,0],[19,2,98,0,"Object"],[19,8,98,0],[19,9,98,0,"defineProperty"],[19,23,98,0],[19,24,98,0,"exports"],[19,31,98,0],[20,4,98,0,"enumerable"],[20,14,98,0],[21,4,98,0,"get"],[21,7,98,0],[21,18,98,0,"get"],[21,19,98,0],[22,6,98,0],[22,13,98,0,"useAuth"],[22,20,98,0],[23,4,98,0],[24,2,98,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_servicesApi"],[28,18,3,0],[28,21,3,0,"require"],[28,28,3,0],[28,29,3,0,"_dependencyMap"],[28,43,3,0],[29,2,3,42],[29,6,3,42,"_reactJsxDevRuntime"],[29,25,3,42],[29,28,3,42,"require"],[29,35,3,42],[29,36,3,42,"_dependencyMap"],[29,50,3,42],[30,2,23,0],[30,8,23,6,"AuthContext"],[30,19,23,17],[30,35,23,20],[30,39,23,20,"createContext"],[30,45,23,33],[30,46,23,33,"createContext"],[30,59,23,33],[30,61,23,63,"undefined"],[30,70,23,72],[30,71,23,73],[31,2,25,7],[31,8,25,13,"AuthProvider"],[31,20,25,25],[31,23,25,28,"AuthProvider"],[31,24,25,29],[32,4,25,31,"children"],[33,2,25,65],[33,3,25,66],[33,8,25,71],[34,4,26,2],[34,10,26,8],[34,11,26,9,"user"],[34,15,26,13],[34,17,26,15,"setUser"],[34,24,26,22],[34,25,26,23],[34,28,26,26],[34,32,26,26,"useState"],[34,38,26,34],[34,39,26,34,"useState"],[34,47,26,34],[34,49,26,48],[34,53,26,52],[34,54,26,53],[35,4,27,2],[35,10,27,8],[35,11,27,9,"token"],[35,16,27,14],[35,18,27,16,"setToken"],[35,26,27,24],[35,27,27,25],[35,30,27,28],[35,34,27,28,"useState"],[35,40,27,36],[35,41,27,36,"useState"],[35,49,27,36],[35,51,27,52],[35,55,27,56],[35,56,27,57],[36,4,28,2],[36,10,28,8],[36,11,28,9,"isLoading"],[36,20,28,18],[36,22,28,20,"setIsLoading"],[36,34,28,32],[36,35,28,33],[36,38,28,36],[36,42,28,36,"useState"],[36,48,28,44],[36,49,28,44,"useState"],[36,57,28,44],[36,59,28,45],[36,63,28,49],[36,64,28,50],[37,4,30,2],[37,8,30,2,"useEffect"],[37,14,30,11],[37,15,30,11,"useEffect"],[37,24,30,11],[37,26,30,12],[37,32,30,18],[38,6,31,4,"loadStoredAuth"],[38,20,31,18],[38,21,31,19],[38,22,31,20],[39,4,32,2],[39,5,32,3],[39,7,32,5],[39,9,32,7],[39,10,32,8],[40,4,34,2],[40,10,34,8,"loadStoredAuth"],[40,24,34,22],[40,27,34,25],[40,33,34,25,"loadStoredAuth"],[40,34,34,25],[40,39,34,37],[41,6,35,4],[41,10,35,8],[42,8,36,6],[42,14,36,12,"storedToken"],[42,25,36,23],[42,28,36,26],[42,34,36,32,"AsyncStorage"],[42,46,36,44],[42,47,36,44,"default"],[42,54,36,44],[42,55,36,45,"getItem"],[42,62,36,52],[42,63,36,53],[42,74,36,64],[42,75,36,65],[43,8,37,6],[43,12,37,10,"storedToken"],[43,23,37,21],[43,25,37,23],[44,10,38,8,"setToken"],[44,18,38,16],[44,19,38,17,"storedToken"],[44,30,38,28],[44,31,38,29],[45,10,39,8],[45,16,39,14,"response"],[45,24,39,22],[45,27,39,25],[45,33,39,31,"authAPI"],[45,45,39,38],[45,46,39,38,"authAPI"],[45,53,39,38],[45,54,39,39,"getMe"],[45,59,39,44],[45,60,39,45],[45,61,39,46],[46,10,40,8,"setUser"],[46,17,40,15],[46,18,40,16,"response"],[46,26,40,24],[46,27,40,25,"data"],[46,31,40,29],[46,32,40,30],[47,8,41,6],[48,6,42,4],[48,7,42,5],[48,8,42,6],[48,15,42,13,"error"],[48,20,42,18],[48,22,42,20],[49,8,43,6,"console"],[49,15,43,13],[49,16,43,14,"log"],[49,19,43,17],[49,20,43,18],[49,40,43,38],[49,42,43,40,"error"],[49,47,43,45],[49,48,43,46],[50,8,44,6],[50,14,44,12,"AsyncStorage"],[50,26,44,24],[50,27,44,24,"default"],[50,34,44,24],[50,35,44,25,"removeItem"],[50,45,44,35],[50,46,44,36],[50,57,44,47],[50,58,44,48],[51,6,45,4],[51,7,45,5],[51,16,45,14],[52,8,46,6,"setIsLoading"],[52,20,46,18],[52,21,46,19],[52,26,46,24],[52,27,46,25],[53,6,47,4],[54,4,48,2],[54,5,48,3],[55,4,50,2],[55,10,50,8,"login"],[55,15,50,13],[55,18,50,16],[55,24,50,16,"login"],[55,25,50,23,"email"],[55,30,50,36],[55,32,50,38,"password"],[55,40,50,54],[55,45,50,59],[56,6,51,4],[56,10,51,8],[57,8,52,6],[57,14,52,12,"response"],[57,22,52,20],[57,25,52,23],[57,31,52,29,"authAPI"],[57,43,52,36],[57,44,52,36,"authAPI"],[57,51,52,36],[57,52,52,37,"login"],[57,57,52,42],[57,58,52,43],[58,10,52,45,"email"],[58,15,52,50],[59,10,52,52,"password"],[60,8,52,61],[60,9,52,62],[60,10,52,63],[61,8,53,6],[61,14,53,12],[62,10,53,14,"token"],[62,15,53,19],[62,17,53,21,"authToken"],[62,26,53,30],[63,10,53,32,"user"],[63,14,53,36],[63,16,53,38,"userData"],[64,8,53,47],[64,9,53,48],[64,12,53,51,"response"],[64,20,53,59],[64,21,53,60,"data"],[64,25,53,64],[65,8,55,6],[65,14,55,12,"AsyncStorage"],[65,26,55,24],[65,27,55,24,"default"],[65,34,55,24],[65,35,55,25,"setItem"],[65,42,55,32],[65,43,55,33],[65,54,55,44],[65,56,55,46,"authToken"],[65,65,55,55],[65,66,55,56],[66,8,56,6,"setToken"],[66,16,56,14],[66,17,56,15,"authToken"],[66,26,56,24],[66,27,56,25],[67,8,57,6,"setUser"],[67,15,57,13],[67,16,57,14,"userData"],[67,24,57,22],[67,25,57,23],[68,8,59,6],[68,15,59,13],[69,10,59,15,"success"],[69,17,59,22],[69,19,59,24],[70,8,59,29],[70,9,59,30],[71,6,60,4],[71,7,60,5],[71,8,60,6],[71,15,60,13,"error"],[71,20,60,23],[71,22,60,25],[72,8,61,6],[72,14,61,12,"message"],[72,21,61,19],[72,24,61,22,"error"],[72,29,61,27],[72,30,61,28,"response"],[72,38,61,36],[72,40,61,38,"data"],[72,44,61,42],[72,46,61,44,"detail"],[72,52,61,50],[72,56,61,54],[72,70,61,68],[73,8,62,6],[73,15,62,13],[74,10,62,15,"success"],[74,17,62,22],[74,19,62,24],[74,24,62,29],[75,10,62,31,"error"],[75,15,62,36],[75,17,62,38,"message"],[76,8,62,46],[76,9,62,47],[77,6,63,4],[78,4,64,2],[78,5,64,3],[79,4,66,2],[79,10,66,8,"register"],[79,18,66,16],[79,21,66,19],[79,27,66,26,"data"],[79,31,66,130],[79,35,66,135],[80,6,67,4],[80,10,67,8],[81,8,68,6],[81,14,68,12,"response"],[81,22,68,20],[81,25,68,23],[81,31,68,29,"authAPI"],[81,43,68,36],[81,44,68,36,"authAPI"],[81,51,68,36],[81,52,68,37,"register"],[81,60,68,45],[81,61,68,46],[82,10,69,8],[82,13,69,11,"data"],[82,17,69,15],[83,10,70,8,"phone"],[83,15,70,13],[83,17,70,15,"data"],[83,21,70,19],[83,22,70,20,"phone"],[83,27,70,25],[83,31,70,29],[83,43,70,41],[83,44,70,43],[84,8,71,6],[84,9,71,7],[84,10,71,8],[85,8,72,6],[85,14,72,12],[86,10,72,14,"token"],[86,15,72,19],[86,17,72,21,"authToken"],[86,26,72,30],[87,10,72,32,"user"],[87,14,72,36],[87,16,72,38,"userData"],[88,8,72,47],[88,9,72,48],[88,12,72,51,"response"],[88,20,72,59],[88,21,72,60,"data"],[88,25,72,64],[89,8,74,6],[89,14,74,12,"AsyncStorage"],[89,26,74,24],[89,27,74,24,"default"],[89,34,74,24],[89,35,74,25,"setItem"],[89,42,74,32],[89,43,74,33],[89,54,74,44],[89,56,74,46,"authToken"],[89,65,74,55],[89,66,74,56],[90,8,75,6,"setToken"],[90,16,75,14],[90,17,75,15,"authToken"],[90,26,75,24],[90,27,75,25],[91,8,76,6,"setUser"],[91,15,76,13],[91,16,76,14,"userData"],[91,24,76,22],[91,25,76,23],[92,8,78,6],[92,15,78,13],[93,10,78,15,"success"],[93,17,78,22],[93,19,78,24],[94,8,78,29],[94,9,78,30],[95,6,79,4],[95,7,79,5],[95,8,79,6],[95,15,79,13,"error"],[95,20,79,23],[95,22,79,25],[96,8,80,6],[96,14,80,12,"message"],[96,21,80,19],[96,24,80,22,"error"],[96,29,80,27],[96,30,80,28,"response"],[96,38,80,36],[96,40,80,38,"data"],[96,44,80,42],[96,46,80,44,"detail"],[96,52,80,50],[96,56,80,54],[96,77,80,75],[97,8,81,6],[97,15,81,13],[98,10,81,15,"success"],[98,17,81,22],[98,19,81,24],[98,24,81,29],[99,10,81,31,"error"],[99,15,81,36],[99,17,81,38,"message"],[100,8,81,46],[100,9,81,47],[101,6,82,4],[102,4,83,2],[102,5,83,3],[103,4,85,2],[103,10,85,8,"logout"],[103,16,85,14],[103,19,85,17],[103,25,85,17,"logout"],[103,26,85,17],[103,31,85,29],[104,6,86,4],[104,12,86,10,"AsyncStorage"],[104,24,86,22],[104,25,86,22,"default"],[104,32,86,22],[104,33,86,23,"removeItem"],[104,43,86,33],[104,44,86,34],[104,55,86,45],[104,56,86,46],[105,6,87,4,"setToken"],[105,14,87,12],[105,15,87,13],[105,19,87,17],[105,20,87,18],[106,6,88,4,"setUser"],[106,13,88,11],[106,14,88,12],[106,18,88,16],[106,19,88,17],[107,4,89,2],[107,5,89,3],[108,4,91,2],[108,24,92,4],[108,28,92,4,"_reactJsxDevRuntime"],[108,47,92,4],[108,48,92,4,"jsxDEV"],[108,54,92,4],[108,56,92,5,"AuthContext"],[108,67,92,16],[108,68,92,17,"Provider"],[108,76,92,25],[109,6,92,26,"value"],[109,11,92,31],[109,13,92,33],[110,8,92,35,"user"],[110,12,92,39],[111,8,92,41,"token"],[111,13,92,46],[112,8,92,48,"isLoading"],[112,17,92,57],[113,8,92,59,"login"],[113,13,92,64],[114,8,92,66,"register"],[114,16,92,74],[115,8,92,76,"logout"],[116,6,92,83],[116,7,92,85],[117,6,92,85,"children"],[117,14,92,85],[117,16,93,7,"children"],[118,4,93,15],[119,6,93,15,"fileName"],[119,14,93,15],[119,16,93,15,"_jsxFileName"],[119,28,93,15],[120,6,93,15,"lineNumber"],[120,16,93,15],[121,6,93,15,"columnNumber"],[121,18,93,15],[122,4,93,15],[122,11,94,26],[122,12,94,27],[123,2,96,0],[123,3,96,1],[124,2,98,7],[124,8,98,13,"useAuth"],[124,15,98,20],[124,18,98,23,"useAuth"],[124,19,98,23],[124,24,98,29],[125,4,99,2],[125,10,99,8,"context"],[125,17,99,15],[125,20,99,18],[125,24,99,18,"useContext"],[125,30,99,28],[125,31,99,28,"useContext"],[125,41,99,28],[125,43,99,29,"AuthContext"],[125,54,99,40],[125,55,99,41],[126,4,100,2],[126,8,100,6,"context"],[126,15,100,13],[126,20,100,18,"undefined"],[126,29,100,27],[126,31,100,29],[127,6,101,4],[127,12,101,10],[127,16,101,14,"Error"],[127,21,101,19],[127,22,101,20],[127,67,101,65],[127,68,101,66],[128,4,102,2],[129,4,103,2],[129,11,103,9,"context"],[129,18,103,16],[130,2,104,0],[130,3,104,1],[131,0,104,2],[131,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;4BCwB;YCK;GDE;yBEE;GFc;gBGE;GHc;mBIE;GJiB;iBKE;GLI;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}