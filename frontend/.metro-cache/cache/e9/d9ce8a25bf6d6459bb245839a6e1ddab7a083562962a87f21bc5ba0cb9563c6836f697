{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":42,"index":202}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('authToken');\n        if (storedToken) {\n          setToken(storedToken);\n          const response = await _servicesApi.authAPI.getMe();\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.log('Auto login failed:', error);\n        await AsyncStorage.default.removeItem('authToken');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await _servicesApi.authAPI.login({\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('authToken', access_token);\n        setToken(access_token);\n        setUser(userData);\n        return {\n          success: true\n        };\n      } catch (error) {\n        const message = error.response?.data?.detail || 'Login failed';\n        return {\n          success: false,\n          error: message\n        };\n      }\n    };\n    const register = async data => {\n      try {\n        const response = await _servicesApi.authAPI.register(data);\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('authToken', access_token);\n        setToken(access_token);\n        setUser(userData);\n        return {\n          success: true\n        };\n      } catch (error) {\n        const message = error.response?.data?.detail || 'Registration failed';\n        return {\n          success: false,\n          error: message\n        };\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('authToken');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        isLoading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"mX4/AXRUN66G8j/NKXHYWKblzjI=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":137,"map":[[15,2,25,0,"Object"],[15,8,25,0],[15,9,25,0,"defineProperty"],[15,23,25,0],[15,24,25,0,"exports"],[15,31,25,0],[16,4,25,0,"enumerable"],[16,14,25,0],[17,4,25,0,"get"],[17,7,25,0],[17,18,25,0,"get"],[17,19,25,0],[18,6,25,0],[18,13,25,0,"AuthProvider"],[18,25,25,0],[19,4,25,0],[20,2,25,0],[21,2,95,0,"Object"],[21,8,95,0],[21,9,95,0,"defineProperty"],[21,23,95,0],[21,24,95,0,"exports"],[21,31,95,0],[22,4,95,0,"enumerable"],[22,14,95,0],[23,4,95,0,"get"],[23,7,95,0],[23,18,95,0,"get"],[23,19,95,0],[24,6,95,0],[24,13,95,0,"useAuth"],[24,20,95,0],[25,4,95,0],[26,2,95,0],[27,2,1,0],[27,6,1,0,"_react"],[27,12,1,0],[27,15,1,0,"require"],[27,22,1,0],[27,23,1,0,"_dependencyMap"],[27,37,1,0],[28,2,2,0],[28,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,2,0],[28,45,2,0,"require"],[28,52,2,0],[28,53,2,0,"_dependencyMap"],[28,67,2,0],[29,2,2,0],[29,6,2,0,"AsyncStorage"],[29,18,2,0],[29,21,2,0,"_interopDefault"],[29,36,2,0],[29,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,2,0],[30,2,3,0],[30,6,3,0,"_servicesApi"],[30,18,3,0],[30,21,3,0,"require"],[30,28,3,0],[30,29,3,0,"_dependencyMap"],[30,43,3,0],[31,2,3,42],[31,6,3,42,"_reactJsxDevRuntime"],[31,25,3,42],[31,28,3,42,"require"],[31,35,3,42],[31,36,3,42,"_dependencyMap"],[31,50,3,42],[32,2,23,0],[32,8,23,6,"AuthContext"],[32,19,23,17],[32,35,23,20],[32,39,23,20,"createContext"],[32,45,23,33],[32,46,23,33,"createContext"],[32,59,23,33],[32,61,23,63,"undefined"],[32,70,23,72],[32,71,23,73],[33,2,25,7],[33,8,25,13,"AuthProvider"],[33,20,25,25],[33,23,25,28,"AuthProvider"],[33,24,25,29],[34,4,25,31,"children"],[35,2,25,65],[35,3,25,66],[35,8,25,71],[36,4,25,71,"_s"],[36,6,25,71],[37,4,26,2],[37,10,26,8],[37,11,26,9,"user"],[37,15,26,13],[37,17,26,15,"setUser"],[37,24,26,22],[37,25,26,23],[37,28,26,26],[37,32,26,26,"useState"],[37,38,26,34],[37,39,26,34,"useState"],[37,47,26,34],[37,49,26,48],[37,53,26,52],[37,54,26,53],[38,4,27,2],[38,10,27,8],[38,11,27,9,"token"],[38,16,27,14],[38,18,27,16,"setToken"],[38,26,27,24],[38,27,27,25],[38,30,27,28],[38,34,27,28,"useState"],[38,40,27,36],[38,41,27,36,"useState"],[38,49,27,36],[38,51,27,52],[38,55,27,56],[38,56,27,57],[39,4,28,2],[39,10,28,8],[39,11,28,9,"isLoading"],[39,20,28,18],[39,22,28,20,"setIsLoading"],[39,34,28,32],[39,35,28,33],[39,38,28,36],[39,42,28,36,"useState"],[39,48,28,44],[39,49,28,44,"useState"],[39,57,28,44],[39,59,28,45],[39,63,28,49],[39,64,28,50],[40,4,30,2],[40,8,30,2,"useEffect"],[40,14,30,11],[40,15,30,11,"useEffect"],[40,24,30,11],[40,26,30,12],[40,32,30,18],[41,6,31,4,"loadStoredAuth"],[41,20,31,18],[41,21,31,19],[41,22,31,20],[42,4,32,2],[42,5,32,3],[42,7,32,5],[42,9,32,7],[42,10,32,8],[43,4,34,2],[43,10,34,8,"loadStoredAuth"],[43,24,34,22],[43,27,34,25],[43,33,34,25,"loadStoredAuth"],[43,34,34,25],[43,39,34,37],[44,6,35,4],[44,10,35,8],[45,8,36,6],[45,14,36,12,"storedToken"],[45,25,36,23],[45,28,36,26],[45,34,36,32,"AsyncStorage"],[45,46,36,44],[45,47,36,44,"default"],[45,54,36,44],[45,55,36,45,"getItem"],[45,62,36,52],[45,63,36,53],[45,74,36,64],[45,75,36,65],[46,8,37,6],[46,12,37,10,"storedToken"],[46,23,37,21],[46,25,37,23],[47,10,38,8,"setToken"],[47,18,38,16],[47,19,38,17,"storedToken"],[47,30,38,28],[47,31,38,29],[48,10,39,8],[48,16,39,14,"response"],[48,24,39,22],[48,27,39,25],[48,33,39,31,"authAPI"],[48,45,39,38],[48,46,39,38,"authAPI"],[48,53,39,38],[48,54,39,39,"getMe"],[48,59,39,44],[48,60,39,45],[48,61,39,46],[49,10,40,8,"setUser"],[49,17,40,15],[49,18,40,16,"response"],[49,26,40,24],[49,27,40,25,"data"],[49,31,40,29],[49,32,40,30],[50,8,41,6],[51,6,42,4],[51,7,42,5],[51,8,42,6],[51,15,42,13,"error"],[51,20,42,18],[51,22,42,20],[52,8,43,6,"console"],[52,15,43,13],[52,16,43,14,"log"],[52,19,43,17],[52,20,43,18],[52,40,43,38],[52,42,43,40,"error"],[52,47,43,45],[52,48,43,46],[53,8,44,6],[53,14,44,12,"AsyncStorage"],[53,26,44,24],[53,27,44,24,"default"],[53,34,44,24],[53,35,44,25,"removeItem"],[53,45,44,35],[53,46,44,36],[53,57,44,47],[53,58,44,48],[54,6,45,4],[54,7,45,5],[54,16,45,14],[55,8,46,6,"setIsLoading"],[55,20,46,18],[55,21,46,19],[55,26,46,24],[55,27,46,25],[56,6,47,4],[57,4,48,2],[57,5,48,3],[58,4,50,2],[58,10,50,8,"login"],[58,15,50,13],[58,18,50,16],[58,24,50,16,"login"],[58,25,50,23,"email"],[58,30,50,36],[58,32,50,38,"password"],[58,40,50,54],[58,45,50,59],[59,6,51,4],[59,10,51,8],[60,8,52,6],[60,14,52,12,"response"],[60,22,52,20],[60,25,52,23],[60,31,52,29,"authAPI"],[60,43,52,36],[60,44,52,36,"authAPI"],[60,51,52,36],[60,52,52,37,"login"],[60,57,52,42],[60,58,52,43],[61,10,52,45,"email"],[61,15,52,50],[62,10,52,52,"password"],[63,8,52,61],[63,9,52,62],[63,10,52,63],[64,8,53,6],[64,14,53,12],[65,10,53,14,"access_token"],[65,22,53,26],[66,10,53,28,"user"],[66,14,53,32],[66,16,53,34,"userData"],[67,8,53,43],[67,9,53,44],[67,12,53,47,"response"],[67,20,53,55],[67,21,53,56,"data"],[67,25,53,60],[68,8,55,6],[68,14,55,12,"AsyncStorage"],[68,26,55,24],[68,27,55,24,"default"],[68,34,55,24],[68,35,55,25,"setItem"],[68,42,55,32],[68,43,55,33],[68,54,55,44],[68,56,55,46,"access_token"],[68,68,55,58],[68,69,55,59],[69,8,56,6,"setToken"],[69,16,56,14],[69,17,56,15,"access_token"],[69,29,56,27],[69,30,56,28],[70,8,57,6,"setUser"],[70,15,57,13],[70,16,57,14,"userData"],[70,24,57,22],[70,25,57,23],[71,8,59,6],[71,15,59,13],[72,10,59,15,"success"],[72,17,59,22],[72,19,59,24],[73,8,59,29],[73,9,59,30],[74,6,60,4],[74,7,60,5],[74,8,60,6],[74,15,60,13,"error"],[74,20,60,23],[74,22,60,25],[75,8,61,6],[75,14,61,12,"message"],[75,21,61,19],[75,24,61,22,"error"],[75,29,61,27],[75,30,61,28,"response"],[75,38,61,36],[75,40,61,38,"data"],[75,44,61,42],[75,46,61,44,"detail"],[75,52,61,50],[75,56,61,54],[75,70,61,68],[76,8,62,6],[76,15,62,13],[77,10,62,15,"success"],[77,17,62,22],[77,19,62,24],[77,24,62,29],[78,10,62,31,"error"],[78,15,62,36],[78,17,62,38,"message"],[79,8,62,46],[79,9,62,47],[80,6,63,4],[81,4,64,2],[81,5,64,3],[82,4,66,2],[82,10,66,8,"register"],[82,18,66,16],[82,21,66,19],[82,27,66,26,"data"],[82,31,66,130],[82,35,66,135],[83,6,67,4],[83,10,67,8],[84,8,68,6],[84,14,68,12,"response"],[84,22,68,20],[84,25,68,23],[84,31,68,29,"authAPI"],[84,43,68,36],[84,44,68,36,"authAPI"],[84,51,68,36],[84,52,68,37,"register"],[84,60,68,45],[84,61,68,46,"data"],[84,65,68,50],[84,66,68,51],[85,8,69,6],[85,14,69,12],[86,10,69,14,"access_token"],[86,22,69,26],[87,10,69,28,"user"],[87,14,69,32],[87,16,69,34,"userData"],[88,8,69,43],[88,9,69,44],[88,12,69,47,"response"],[88,20,69,55],[88,21,69,56,"data"],[88,25,69,60],[89,8,71,6],[89,14,71,12,"AsyncStorage"],[89,26,71,24],[89,27,71,24,"default"],[89,34,71,24],[89,35,71,25,"setItem"],[89,42,71,32],[89,43,71,33],[89,54,71,44],[89,56,71,46,"access_token"],[89,68,71,58],[89,69,71,59],[90,8,72,6,"setToken"],[90,16,72,14],[90,17,72,15,"access_token"],[90,29,72,27],[90,30,72,28],[91,8,73,6,"setUser"],[91,15,73,13],[91,16,73,14,"userData"],[91,24,73,22],[91,25,73,23],[92,8,75,6],[92,15,75,13],[93,10,75,15,"success"],[93,17,75,22],[93,19,75,24],[94,8,75,29],[94,9,75,30],[95,6,76,4],[95,7,76,5],[95,8,76,6],[95,15,76,13,"error"],[95,20,76,23],[95,22,76,25],[96,8,77,6],[96,14,77,12,"message"],[96,21,77,19],[96,24,77,22,"error"],[96,29,77,27],[96,30,77,28,"response"],[96,38,77,36],[96,40,77,38,"data"],[96,44,77,42],[96,46,77,44,"detail"],[96,52,77,50],[96,56,77,54],[96,77,77,75],[97,8,78,6],[97,15,78,13],[98,10,78,15,"success"],[98,17,78,22],[98,19,78,24],[98,24,78,29],[99,10,78,31,"error"],[99,15,78,36],[99,17,78,38,"message"],[100,8,78,46],[100,9,78,47],[101,6,79,4],[102,4,80,2],[102,5,80,3],[103,4,82,2],[103,10,82,8,"logout"],[103,16,82,14],[103,19,82,17],[103,25,82,17,"logout"],[103,26,82,17],[103,31,82,29],[104,6,83,4],[104,12,83,10,"AsyncStorage"],[104,24,83,22],[104,25,83,22,"default"],[104,32,83,22],[104,33,83,23,"removeItem"],[104,43,83,33],[104,44,83,34],[104,55,83,45],[104,56,83,46],[105,6,84,4,"setToken"],[105,14,84,12],[105,15,84,13],[105,19,84,17],[105,20,84,18],[106,6,85,4,"setUser"],[106,13,85,11],[106,14,85,12],[106,18,85,16],[106,19,85,17],[107,4,86,2],[107,5,86,3],[108,4,88,2],[108,24,89,4],[108,28,89,4,"_reactJsxDevRuntime"],[108,47,89,4],[108,48,89,4,"jsxDEV"],[108,54,89,4],[108,56,89,5,"AuthContext"],[108,67,89,16],[108,68,89,17,"Provider"],[108,76,89,25],[109,6,89,26,"value"],[109,11,89,31],[109,13,89,33],[110,8,89,35,"user"],[110,12,89,39],[111,8,89,41,"token"],[111,13,89,46],[112,8,89,48,"isLoading"],[112,17,89,57],[113,8,89,59,"login"],[113,13,89,64],[114,8,89,66,"register"],[114,16,89,74],[115,8,89,76,"logout"],[116,6,89,83],[116,7,89,85],[117,6,89,85,"children"],[117,14,89,85],[117,16,90,7,"children"],[118,4,90,15],[119,6,90,15,"fileName"],[119,14,90,15],[119,16,90,15,"_jsxFileName"],[119,28,90,15],[120,6,90,15,"lineNumber"],[120,16,90,15],[121,6,90,15,"columnNumber"],[121,18,90,15],[122,4,90,15],[122,11,91,26],[122,12,91,27],[123,2,93,0],[123,3,93,1],[124,2,93,2,"_s"],[124,4,93,2],[124,5,25,13,"AuthProvider"],[124,17,25,25],[125,2,25,25,"_c"],[125,4,25,25],[125,7,25,13,"AuthProvider"],[125,19,25,25],[126,2,95,7],[126,8,95,13,"useAuth"],[126,15,95,20],[126,18,95,23,"useAuth"],[126,19,95,23],[126,24,95,29],[127,4,95,29,"_s2"],[127,7,95,29],[128,4,96,2],[128,10,96,8,"context"],[128,17,96,15],[128,20,96,18],[128,24,96,18,"useContext"],[128,30,96,28],[128,31,96,28,"useContext"],[128,41,96,28],[128,43,96,29,"AuthContext"],[128,54,96,40],[128,55,96,41],[129,4,97,2],[129,8,97,6,"context"],[129,15,97,13],[129,20,97,18,"undefined"],[129,29,97,27],[129,31,97,29],[130,6,98,4],[130,12,98,10],[130,16,98,14,"Error"],[130,21,98,19],[130,22,98,20],[130,67,98,65],[130,68,98,66],[131,4,99,2],[132,4,100,2],[132,11,100,9,"context"],[132,18,100,16],[133,2,101,0],[133,3,101,1],[134,2,101,2,"_s2"],[134,5,101,2],[134,6,95,13,"useAuth"],[134,13,95,20],[135,2,95,20],[135,6,95,20,"_c"],[135,8,95,20],[136,2,95,20,"$RefreshReg$"],[136,14,95,20],[136,15,95,20,"_c"],[136,17,95,20],[137,0,95,20],[137,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;4BCwB;YCK;GDE;yBEE;GFc;gBGE;GHc;mBIE;GJc;iBKE;GLI;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}